(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-43a4cef7"],{"0d9a":function(t,e,n){},3443:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"PersonCenter"}},[n("div",{staticClass:"page_top"},[n("PersonOutline",{attrs:{type:"others",info:t.personInfo},on:{change:function(e){t.switchIdentity()}}})],1),n("div",{staticClass:"page_ctn"},[n("div",{staticClass:"list"},t._l(t.personInfo.list,function(t,e){return n("ListItem",{key:e,attrs:{info:t}})}))]),n("transition",{attrs:{name:"bosslist"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"selectboss"},[n("van-picker",{attrs:{"show-toolbar":!0,"cancel-button-text":"请选择你要切换的身份",columns:t.bosslist,"visible-item-count":t.count},on:{confirm:t.onConfirm}})],1)]),n("transition",{attrs:{name:"shade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"shade",on:{click:function(e){t.show=!1}}})])],1)},s=[],o=(n("ac6a"),n("e7e5"),n("d399")),a=(n("28a5"),n("5f5f"),n("f253")),c=(n("cadf"),n("551c"),n("097d"),n("f356")),u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"personOutline"},[n("div",{staticClass:"left"},[n("div",{staticClass:"photo"},[n("img",{staticClass:"pic",attrs:{src:t.info.avatar_url}})]),n("div",{staticClass:"name"},[n("span",{staticClass:"eg"},[t._v(t._s(t.info.rtx))]),n("span",{staticClass:"cn"},[t._v(t._s(t.info.username))])])]),!0===t.info.show_change_identity?n("div",{staticClass:"right",on:{click:function(e){t.change()}}},[t._m(0),n("span",{staticClass:"desc"},[t._v("切换身份")])]):t._e()])},r=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",{staticClass:"icon"},[i("img",{attrs:{src:n("8eb7")}})])}],l={props:{info:{type:Object,default:function(){return{}}},type:String},data:function(){return{}},methods:{change:function(){this.$emit("change")}}},h=l,f=(n("853b"),n("2877")),d=Object(f["a"])(h,u,r,!1,null,"3f61f32a",null);d.options.__file="person-outline.vue";var m=d.exports,p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"item"},[n("div",{staticClass:"left"},[n("img",{staticClass:"icon",attrs:{src:t.info.icon}})]),n("div",{staticClass:"right",on:{click:function(e){t.link(t.info.router)}}},[n("div",{staticClass:"desc"},[n("span",[t._v(t._s(t.info.title))]),""!==t.info.ext&&void 0!==t.info.ext?n("span",{staticClass:"sec"},[t._v(t._s(t.info.ext))]):t._e()]),t._m(0)])])},v=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"arrow"},[i("img",{staticClass:"icon",attrs:{src:n("6db2")}})])}],g={props:{info:{type:Object,default:function(){}}},data:function(){return{}},methods:{link:function(t){console.log(t),this.$router.push({path:t})}}},b=g,x=(n("57ca"),Object(f["a"])(b,p,v,!1,null,"53c1ce00",null));x.options.__file="list-item.vue";var C=x.exports,_=n("2b0e");_["a"].use(a["a"]);var y={components:{PersonOutline:m,ListItem:C},name:"PersonCenter",data:function(){return{personInfo:{},bosslist:[],count:5,show:!1}},mounted:function(){document.addEventListener("touchstart",function(){},!1),this.ajaxStart(),this.bossChoose(),this.$nextTick(function(){var t=document.cookie;console.log(t,"cookies")})},methods:{onConfirm:function(t,e){var n=t.split("(")[0];this.show=!1,this.switchRole(n)},switchIdentity:function(){if(1!==this.bosslist.length)this.show?this.show=!1:this.show=!0;else{var t=this.bosslist[0].split("(")[0];this.switchRole(t)}},ajaxStart:function(){var t=this;Object(c["o"])().then(function(e){null!==e?0===e.code?(console.log(e,"start"),t.personInfo=e.data):o["a"].fail("请求异常"):o["a"].fail("请求出错")},function(t){console.log(t),o["a"].fail("系统异常")})},bossChoose:function(){var t=this;Object(c["b"])().then(function(e){if(null!==e)if(0===e.code){var n=[];e.data.forEach(function(t){n.push(t.rtx+"("+t.username+")")}),t.bosslist=n,t.count=n.length>3?5:3}else o["a"].fail("请求异常");else o["a"].fail("请求出错")},function(t){console.log(t),o["a"].fail("系统异常")})},switchRole:function(t){var e=this;Object(c["d"])(t).then(function(t){null!==t?0===t.code?e.$router.push({path:"/"}):o["a"].fail("请求异常"):o["a"].fail("请求出错")},function(t){console.log(t),o["a"].fail("系统异常")})}}},I=y,w=(n("4ae8"),Object(f["a"])(I,i,s,!1,null,"4aaa90b1",null));w.options.__file="index.vue";e["default"]=w.exports},"4ae8":function(t,e,n){"use strict";var i=n("ef50"),s=n.n(i);s.a},"57ca":function(t,e,n){"use strict";var i=n("70d9"),s=n.n(i);s.a},"5f5f":function(t,e,n){"use strict";n("68ef"),n("a526")},"6db2":function(t,e,n){t.exports=n.p+"img/icon_arrow_grey_right.91d74db8.svg"},"70d9":function(t,e,n){},"853b":function(t,e,n){"use strict";var i=n("0d9a"),s=n.n(i);s.a},"8eb7":function(t,e,n){t.exports=n.p+"img/icon_person_change_role.ce72c89f.svg"},a526:function(t,e,n){},ef50:function(t,e,n){},f253:function(t,e,n){"use strict";var i=n("fe7e"),s=n("1128");function o(t){return Array.isArray(t)?t.map(function(t){return o(t)}):"object"===typeof t?Object(s["a"])({},t):t}var a=n("a142"),c=200,u=Object(i["a"])({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:[t.b(),t.className],style:t.columnStyle,on:{touchstart:t.onTouchStart,touchmove:function(e){return e.preventDefault(),t.onTouchMove(e)},touchend:t.onTouchEnd,touchcancel:t.onTouchEnd}},[n("ul",{style:t.wrapperStyle},t._l(t.options,function(e,i){return n("li",{staticClass:"van-ellipsis",class:t.b("item",{disabled:t.isDisabled(e),selected:i===t.currentIndex}),style:t.optionStyle,domProps:{innerHTML:t._s(t.getOptionText(e))},on:{click:function(e){t.setIndex(i,!0)}}})}))])},name:"picker-column",props:{valueKey:String,className:String,itemHeight:Number,visibleItemCount:Number,initialOptions:{type:Array,default:function(){return[]}},defaultIndex:{type:Number,default:0}},data:function(){return{startY:0,offset:0,duration:0,startOffset:0,options:o(this.initialOptions),currentIndex:this.defaultIndex}},created:function(){this.$parent.children&&this.$parent.children.push(this),this.setIndex(this.currentIndex)},destroyed:function(){var t=this.$parent.children;t&&t.splice(t.indexOf(this),1)},watch:{defaultIndex:function(){this.setIndex(this.defaultIndex)}},computed:{count:function(){return this.options.length},baseOffset:function(){return this.itemHeight*(this.visibleItemCount-1)/2},columnStyle:function(){return{height:this.itemHeight*this.visibleItemCount+"px"}},wrapperStyle:function(){return{transition:this.duration+"ms",transform:"translate3d(0, "+(this.offset+this.baseOffset)+"px, 0)",lineHeight:this.itemHeight+"px"}},optionStyle:function(){return{height:this.itemHeight+"px"}}},methods:{onTouchStart:function(t){this.startY=t.touches[0].clientY,this.startOffset=this.offset,this.duration=0},onTouchMove:function(t){var e=t.touches[0].clientY-this.startY;this.offset=Object(a["f"])(this.startOffset+e,-this.count*this.itemHeight,this.itemHeight)},onTouchEnd:function(){if(this.offset!==this.startOffset){this.duration=c;var t=Object(a["f"])(Math.round(-this.offset/this.itemHeight),0,this.count-1);this.setIndex(t,!0)}},adjustIndex:function(t){t=Object(a["f"])(t,0,this.count);for(var e=t;e<this.count;e++)if(!this.isDisabled(this.options[e]))return e;for(var n=t-1;n>=0;n--)if(!this.isDisabled(this.options[n]))return n},isDisabled:function(t){return Object(a["d"])(t)&&t.disabled},getOptionText:function(t){return Object(a["d"])(t)&&this.valueKey in t?t[this.valueKey]:t},setIndex:function(t,e){t=this.adjustIndex(t)||0,this.offset=-t*this.itemHeight,t!==this.currentIndex&&(this.currentIndex=t,e&&this.$emit("change",t))},setValue:function(t){for(var e=this.options,n=0;n<e.length;n++)if(this.getOptionText(e[n])===t)return this.setIndex(n)},getValue:function(){return this.options[this.currentIndex]}}});e["a"]=Object(i["a"])({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.b()},[t.showToolbar?n("div",{staticClass:"van-hairline--top-bottom",class:t.b("toolbar")},[t._t("default",[n("div",{class:t.b("cancel"),on:{click:function(e){t.emit("cancel")}}},[t._v("\n        "+t._s(t.cancelButtonText||t.$t("cancel"))+"\n      ")]),t.title?n("div",{staticClass:"van-ellipsis",class:t.b("title"),domProps:{textContent:t._s(t.title)}}):t._e(),n("div",{class:t.b("confirm"),on:{click:function(e){t.emit("confirm")}}},[t._v("\n        "+t._s(t.confirmButtonText||t.$t("confirm"))+"\n      ")])])],2):t._e(),t.loading?n("div",{class:t.b("loading")},[n("loading")],1):t._e(),n("div",{class:t.b("columns"),style:t.columnsStyle,on:{touchmove:function(t){t.preventDefault()}}},[t._l(t.simple?[t.columns]:t.columns,function(e,i){return n("picker-column",{key:i,attrs:{"value-key":t.valueKey,"initial-options":t.simple?e:e.values,"class-name":e.className,"default-index":e.defaultIndex,"item-height":t.itemHeight,"visible-item-count":t.visibleItemCount},on:{change:function(e){t.onChange(i)}}})}),n("div",{staticClass:"van-hairline--top-bottom",class:t.b("frame"),style:t.frameStyle})],2)])},name:"picker",components:{PickerColumn:u},props:{title:String,loading:Boolean,showToolbar:Boolean,confirmButtonText:String,cancelButtonText:String,visibleItemCount:{type:Number,default:5},valueKey:{type:String,default:"text"},itemHeight:{type:Number,default:44},columns:{type:Array,default:function(){return[]}}},data:function(){return{children:[]}},computed:{frameStyle:function(){return{height:this.itemHeight+"px"}},columnsStyle:function(){return{height:this.itemHeight*this.visibleItemCount+"px"}},simple:function(){return this.columns.length&&!this.columns[0].values}},watch:{columns:function(){this.setColumns()}},methods:{setColumns:function(){var t=this,e=this.simple?[{values:this.columns}]:this.columns;e.forEach(function(e,n){t.setColumnValues(n,o(e.values))})},emit:function(t){this.simple?this.$emit(t,this.getColumnValue(0),this.getColumnIndex(0)):this.$emit(t,this.getValues(),this.getIndexes())},onChange:function(t){this.simple?this.$emit("change",this,this.getColumnValue(0),this.getColumnIndex(0)):this.$emit("change",this,this.getValues(),t)},getColumn:function(t){return this.children[t]},getColumnValue:function(t){var e=this.getColumn(t);return e&&e.getValue()},setColumnValue:function(t,e){var n=this.getColumn(t);n&&n.setValue(e)},getColumnIndex:function(t){return(this.getColumn(t)||{}).currentIndex},setColumnIndex:function(t,e){var n=this.getColumn(t);n&&n.setIndex(e)},getColumnValues:function(t){return(this.children[t]||{}).options},setColumnValues:function(t,e){var n=this.children[t];n&&JSON.stringify(n.options)!==JSON.stringify(e)&&(n.options=e,n.setIndex(0))},getValues:function(){return this.children.map(function(t){return t.getValue()})},setValues:function(t){var e=this;t.forEach(function(t,n){e.setColumnValue(n,t)})},getIndexes:function(){return this.children.map(function(t){return t.currentIndex})},setIndexes:function(t){var e=this;t.forEach(function(t,n){e.setColumnIndex(n,t)})}}})}}]);