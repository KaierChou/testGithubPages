(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["apply"],{"01f7":function(t,e,i){},"09ea":function(t,e,i){"use strict";var n=i("db18"),a=i.n(n);a.a},1223:function(t,e,i){},"133a":function(t,e,i){"use strict";var n=i("291e"),a=i.n(n);a.a},"18c5":function(t,e,i){"use strict";var n=i("38bd"),a=i.n(n);a.a},"291e":function(t,e,i){},"339f":function(t,e,i){"use strict";var n=i("924e"),a=i.n(n);a.a},"38bd":function(t,e,i){},"3cfd":function(t,e,i){},"3ee9":function(t,e,i){},4260:function(t,e,i){"use strict";var n=i("3ee9"),a=i.n(n);a.a},4539:function(t,e,i){"use strict";var n=i("1223"),a=i.n(n);a.a},"570d":function(t,e,i){},"5dfd":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"page_"},[i("div",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}]},[i("reservationInfo",{attrs:{disabled:t.type,data:t.reservationData}}),i("person-info",{attrs:{data:t.personInfoData,disabled:t.type}}),i("order-info",{attrs:{data:t.orderInfoData,disabled:t.type}}),i("Package",{attrs:{result:t.packageData,disabled:t.type}})],1),i("Loading",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}]})],1)},a=[],r=(i("7f7f"),i("bf93")),o=i("d0a6"),s=i("fd72"),c=i("e445"),u=i("7ac3"),l=i("f356"),d=i("b21a"),h={name:"order-detail",components:{Package:o["a"],orderInfo:s["a"],personInfo:c["a"],reservationInfo:u["a"],Loading:r["a"]},data:function(){return{packageData:[],personInfoData:{married:{}},orderInfoData:{report:{},reportAddr:{}},info:{},type:1,loading:!0,reservationData:{}}},created:function(){this.load()},methods:{load:function(){var t=this;Object(l["k"])({id:this.$route.query.order_id}).then(function(e){0===e.code&&(t.loading=!1,t.packageData=e.data.package_list,t.reservationData={org_name:e.data.org_name,medical_time:e.data.medical_time,address:e.data.address},t.personInfoData={name:e.data.name,id_num:e.data.card_id,birthday:e.data.birthday,married:{text:e.data.marriage_status}},t.orderInfoData={phone:e.data.phone,report:d["b"][e.data.report_type-1],reportAddr:{text:e.data.office_address}})})}}},f=h,m=(i("93e7"),i("2877")),p=Object(m["a"])(f,n,a,!1,null,"415e0e54",null);p.options.__file="order-detail.vue";e["default"]=p.exports},"5f5f":function(t,e,i){"use strict";i("68ef"),i("a526")},"60ff":function(t,e,i){},"7ac3":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"page"},[t._m(0),i("ul",{staticClass:"item-form disable"},[i("li",[i("span",[t._v("体检机构")]),i("em",[t._v(t._s(t.data.org_name))])]),i("li",[i("span",[t._v("体检日期")]),i("em",[t._v(t._s(t.data.medical_time))])]),t.data.address?i("li",[i("span",[t._v("机构地址")]),i("em",[t._v(t._s(t.data.address))])]):t._e()])])},a=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("h3",[i("span",[t._v("预约信息")])])}],r={name:"reservationInfo",data:function(){return{}},props:{disabled:{default:0},data:{default:{}}},methods:{}},o=r,s=(i("133a"),i("2877")),c=Object(s["a"])(o,n,a,!1,null,"af995102",null);c.options.__file="reservationInfo.vue";e["a"]=c.exports},"7f7f":function(t,e,i){var n=i("86cc").f,a=Function.prototype,r=/^\s*function ([^ (]*)/,o="name";o in a||i("9e1e")&&n(a,o,{configurable:!0,get:function(){try{return(""+this).match(r)[1]}catch(t){return""}}})},"924e":function(t,e,i){},"93e7":function(t,e,i){"use strict";var n=i("3cfd"),a=i.n(n);a.a},a526:function(t,e,i){},b21a:function(t,e,i){"use strict";i.d(e,"a",function(){return n}),i.d(e,"b",function(){return a});var n=[{text:"已婚",value:"1"},{text:"未婚",value:"2"}],a=[{text:"电子报告",value:1},{text:"纸质报告",value:2}]},b291:function(t,e,i){},c1a9:function(t,e,i){"use strict";var n=i("570d"),a=i.n(n);a.a},c52b:function(t,e,i){"use strict";var n=i("60ff"),a=i.n(n);a.a},d0a6:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"page"},[t._m(0),i("ul",{staticClass:"item-form"},t._l(t.result,function(e,n){return i("li",{key:n},[i("span",[t._v(t._s(e.package_name))]),i("em",[t._v("¥ "+t._s(e.price))])])}))])},a=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("h3",[i("span",[t._v("体检方案定制")])])}],r={name:"package",data:function(){return{}},props:{result:{default:[]}},methods:{}},o=r,s=(i("df9c"),i("2877")),c=Object(s["a"])(o,n,a,!1,null,"4b8c4b62",null);c.options.__file="package.vue";e["a"]=c.exports},dadd:function(t,e,i){"use strict";var n=i("01f7"),a=i.n(n);a.a},db18:function(t,e,i){},df9c:function(t,e,i){"use strict";var n=i("b291"),a=i.n(n);a.a},e084:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"slider"}},[i("div",{staticClass:"city-list-wrapper"},[i("div",{staticClass:"city-list"},[i("div",{ref:"locationCity",staticClass:"location-city"},[i("h4",[t._v("当前城市")]),i("div",{staticClass:"active"},[i("span",{on:{click:function(e){t.chooseCity(t.localCity)}}},[t._v(t._s(t.currentCity.city_name))])])]),i("div",{ref:"hotCity",staticClass:"hot-city"},[i("h4",[t._v("热门城市")]),i("div",{staticClass:"hot-city-list"},t._l(t.hotCity,function(e,n){return i("span",{key:n,class:{active:e.city_id===t.currentCity.city_id},on:{click:function(i){t.chooseCity(e)}}},[t._v(t._s(e.name))])}))]),i("ul",{staticClass:"all-city"},t._l(t.cityList,function(e,n){return i("li",{key:n,ref:"listGroup",refInFor:!0,staticClass:"all-city-item"},[i("h4",{staticClass:"city-title"},[t._v(t._s(n))]),i("ul",t._l(e,function(e,n){return i("li",{key:n,staticClass:"city-item",attrs:{"data-id":e.city_id},on:{click:function(i){t.chooseCity(e)}}},[t._v(t._s(e.name))])}))])}))]),i("div",{staticClass:"list-shortcut",on:{touchstart:function(e){t.onShortcutTouchStart(e)},touchmove:function(e){e.stopPropagation(),e.preventDefault(),t.onShortcutTouchMove(e)}}},[i("ul",t._l(t.shortcutList,function(e,n){return i("li",{key:n,ref:"shortcut",refInFor:!0,staticClass:"item",attrs:{"data-index":n}},[t._v(t._s(e))])}))])])])},a=[],r=(i("7f7f"),i("be94")),o=i("f356"),s=i("2f62"),c={name:"city-list",data:function(){return{hasChooseCity:!1,cityList:{},currentIndex:"",diff:"",scrollY:"",localCity:localStorage.getItem("myLocationInfo")&&JSON.parse(localStorage.getItem("myLocationInfo")).city_name&&JSON.parse(localStorage.getItem("myLocationInfo")).city_id?JSON.parse(localStorage.getItem("myLocationInfo")):{city_name:"未定位",city_id:null}}},created:function(){this.hasChooseCity=!1,this.touch={},this.listHeight=[]},mounted:function(){var t=this;this.$nextTick(function(){t._getCityList()})},methods:Object(r["a"])({_getCityList:function(){var t=this;Object(o["e"])().then(function(e){0===e.code&&(t.cityList=e.data)})},back:function(){var t=this;this.hasChooseCity=!1,history.length<2?this.$router.push("/"):this.$router.back(-1),setTimeout(function(){"city-list"===t.$route.name&&t.$router.push("/")},500)},chooseCity:function(t){t.city_id&&(t.name||t.city_name)&&(this.hasChooseCity||(this.hasChooseCity=!0,this.setCurrentCity({city_id:t.city_id,city_name:t.name||t.city_name}),console.log(t.name),this.back()))},onShortcutTouchStart:function(t){var e=t.target.getAttribute("data-index"),i=t.touches[0];this.touch.y1=i.clientY,this.touch.anchorIndex=e,this.scrollTo(this.touch.anchorIndex)},onShortcutTouchMove:function(t){var e=this.$refs.shortcut[0].clientHeight,i=t.touches[0];this.touch.y2=i.clientY;var n=(this.touch.y2-this.touch.y1)/e,a=parseInt(this.touch.anchorIndex)+Math.round(n);this.scrollTo(a)},scrollTo:function(t){(t||0===t)&&(t<0?t=0:t>this.listHeight.length-3&&(t=this.listHeight.length-2),this.currentIndex=t,console.log(this.listHeight[t]),window.scrollTo(0,this.listHeight[t]))},calculateHeight:function(){this.listHeight=[];var t=this.$refs.listGroup,e=this.$refs.locationCity.clientHeight,i=e+this.$refs.hotCity.clientHeight;this.listHeight.push(e,i);for(var n=0;n<t.length;n++){var a=t[n];i+=a.clientHeight,this.listHeight.push(i)}},scroll:function(){this.scrollY=window.scrollY}},Object(s["d"])({setCurrentCity:"SET_CURRENT_CITY"})),computed:Object(r["a"])({hotCity:function(){var t=[];for(var e in this.cityList)t=t.concat(this.cityList[e].filter(function(t){return"1"===t.is_hot}));return t},shortcutList:function(){var t=[];for(var e in this.cityList)t.push(e);return t.length&&t.unshift("热"),t},fixedTitle:function(){return this.shortcutList[this.currentIndex]}},Object(s["c"])(["currentCity"])),watch:{cityList:function(){var t=this;setTimeout(function(){t.calculateHeight()},20)}}},u=c,l=(i("339f"),i("2877")),d=Object(l["a"])(u,n,a,!1,null,"32e502fc",null);d.options.__file="city-list.vue";e["default"]=d.exports},e3ac:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}],staticClass:"page_"},[i("div",[i("Package",{attrs:{result:t.packageData}}),i("reservationInfo",{attrs:{data:t.reservationData}}),i("person-info",{ref:"personInfo",attrs:{data:t.personInfoData,error:t.error},on:{selectMarried:t.selectMarried,selectBirthday:t.selectBirthday,checkoutInfo:t.checkoutInfo,hideError:t.hideError}}),i("order-info",{ref:"orderInfo",attrs:{data:t.orderInfoData,error:t.error},on:{selectReport:t.selectReport,selectReportAddr:t.selectReportAddr,checkoutInfo:t.checkoutInfo,hideError:t.hideError}}),i("com-picker",{attrs:{title:t.comPicker.title,pickerShow:t.comPicker.pickerShow,columns:t.comPicker.columns},on:{onPickerConfirm:t.onPickerConfirm,onPickerCancel:t.onPickerCancel}}),i("Datetime-picker",{attrs:{pickerShow:t.DatetimePicker.pickerShow},on:{onDatetimePickerCancel:t.onDatetimePickerCancel,onDatetimePickerConfirm:t.onDatetimePickerConfirm}}),i("fixed-bottom",{attrs:{disable:t.submitDisable,price:t.price},on:{click:t.submit}})],1),i("Loading",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}]})],1)},a=[],r=(i("e7e5"),i("d399")),o=i("be94"),s=i("d0a6"),c=i("fd72"),u=i("e445"),l=i("7ac3"),d=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"page"},[i("div",{staticClass:"price"},[i("span",[t._v("合计：")]),i("em",[t._v("¥ "+t._s(t.price))])]),i("Buttom",{attrs:{disable:t.disable},on:{click:t.submit}},[i("span",[t._v("提交订单")])])],1)},h=[],f=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"com-button",class:[t.type?t.type:"",t.size?t.size:"",{disable:t.disable,isblock:t.isblock}],on:{click:t.onClick}},[t._t("default")],2)},m=[],p={name:"com-button",props:{size:String,type:String,isblock:Boolean,disable:Boolean},methods:{onClick:function(t){this.$emit("click",!this.disable)}}},v=p,g=(i("c52b"),i("2877")),y=Object(g["a"])(v,f,m,!1,null,"7b8cae52",null);y.options.__file="button.vue";var _=y.exports,b={components:{Buttom:_},data:function(){return{}},props:{price:{default:0},disable:{type:Boolean,default:!0}},methods:{submit:function(t){this.$emit("click",t)}}},k=b,C=(i("09ea"),Object(g["a"])(k,d,h,!1,null,"ccdc349c",null));C.options.__file="fixed-bottom.vue";var I=C.exports,x=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("van-picker",{staticClass:"van-picker-hide",class:{"van-picker-show":t.pickerShow},attrs:{"show-toolbar":t.toolbar,title:t.title,columns:t.columns,loading:t.loading},on:{change:t.onChange,cancel:t.onCancel,confirm:t.onConfirm}}),i("div",{staticClass:"overload",class:{"overload-show":t.pickerShow}})],1)},D=[],$=(i("5f5f"),i("f253")),w=i("2b0e");w["a"].use($["a"]);var S={data:function(){return{}},props:{toolbar:{type:Boolean,default:!0},title:{type:String,default:"请选择"},columns:{type:Array},loading:{type:Boolean,default:!1},pickerShow:{type:Boolean,default:!1}},methods:{onChange:function(t,e,i){this.$emit("onPickerChange",t,e,i)},onCancel:function(){this.$emit("onPickerCancel")},onConfirm:function(t,e){this.$emit("onPickerConfirm",t,e)}}},O=S,P=(i("18c5"),Object(g["a"])(O,x,D,!1,null,"2c710dc0",null));P.options.__file="picker.vue";var T=P.exports,E=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("van-datetime-picker",{staticClass:"van-picker-hide",class:{"van-picker-show":t.pickerShow},attrs:{type:"date","min-date":t.minDate,loading:t.loading},on:{change:t.onChange,cancel:t.onCancel,confirm:t.onConfirm},model:{value:t.currentDate,callback:function(e){t.currentDate=e},expression:"currentDate"}}),i("div",{staticClass:"overload",class:{"overload-show":t.pickerShow}})],1)},H=[],j=(i("68ef"),i("a526"),i("fe7e")),M=i("a142"),V=(new Date).getFullYear(),A=function(t){return"[object Date]"===Object.prototype.toString.call(t)&&!isNaN(t.getTime())},N=Object(j["a"])({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("picker",{ref:"picker",attrs:{title:t.title,columns:t.columns,"item-height":t.itemHeight,"show-toolbar":t.showToolbar,"visible-item-count":t.visibleItemCount,"confirm-button-text":t.confirmButtonText,"cancel-button-text":t.cancelButtonText},on:{change:t.onChange,confirm:t.onConfirm,cancel:function(e){t.$emit("cancel")}}})},name:"datetime-picker",components:{Picker:$["a"]},props:{value:null,title:String,itemHeight:Number,visibleItemCount:Number,confirmButtonText:String,cancelButtonText:String,type:{type:String,default:"datetime"},showToolbar:{type:Boolean,default:!0},format:{type:String,default:"YYYY.MM.DD HH时 mm分"},formatter:{type:Function,default:function(t,e){return e}},minDate:{type:Date,default:function(){return new Date(V-10,0,1)},validator:A},maxDate:{type:Date,default:function(){return new Date(V+10,11,31)},validator:A},minHour:{type:Number,default:0},maxHour:{type:Number,default:23},minMinute:{type:Number,default:0},maxMinute:{type:Number,default:59}},data:function(){return{innerValue:this.correctValue(this.value)}},watch:{value:function(t){t=this.correctValue(t);var e="time"===this.type?t===this.innerValue:t.valueOf()===this.innerValue.valueOf();e||(this.innerValue=t)},innerValue:function(t){this.$emit("input",t)},columns:function(){this.updateColumnValue(this.innerValue)}},computed:{ranges:function(){if("time"===this.type)return[{type:"hour",range:[this.minHour,this.maxHour]},{type:"minute",range:[this.minMinute,this.maxMinute]}];var t=this.getBoundary("max",this.innerValue),e=t.maxYear,i=t.maxDate,n=t.maxMonth,a=t.maxHour,r=t.maxMinute,o=this.getBoundary("min",this.innerValue),s=o.minYear,c=o.minDate,u=o.minMonth,l=o.minHour,d=o.minMinute,h=[{type:"year",range:[s,e]},{type:"month",range:[u,n]},{type:"day",range:[c,i]},{type:"hour",range:[l,a]},{type:"minute",range:[d,r]}];return"date"===this.type&&h.splice(3,2),"year-month"===this.type&&h.splice(2,3),h},columns:function(){var t=this,e=this.ranges.map(function(e){var i=e.type,n=e.range,a=t.times(n[1]-n[0]+1,function(e){var a=n[0]+e;return a=a<10?"0"+a:""+a,t.formatter(i,a)});return{values:a}});return e}},methods:{pad:function(t){return("00"+t).slice(-2)},correctValue:function(t){var e="time"!==this.type;if(e&&!A(t))t=this.minDate;else if(!t){var i=this.minHour;t=(i>10?i:"0"+i)+":00"}if(!e){var n=t.split(":"),a=n[0],r=n[1];return a=this.pad(Object(M["f"])(a,this.minHour,this.maxHour)),r=this.pad(Object(M["f"])(r,this.minMinute,this.maxMinute)),a+":"+r}return t=Math.max(t,this.minDate.getTime()),t=Math.min(t,this.maxDate.getTime()),new Date(t)},times:function(t,e){var i=-1,n=Array(t);while(++i<t)n[i]=e(i);return n},getBoundary:function(t,e){var i,n=this[t+"Date"],a=n.getFullYear(),r=1,o=1,s=0,c=0;return"max"===t&&(r=12,o=this.getMonthEndDay(e.getFullYear(),e.getMonth()+1),s=23,c=59),e.getFullYear()===a&&(r=n.getMonth()+1,e.getMonth()+1===r&&(o=n.getDate(),e.getDate()===o&&(s=n.getHours(),e.getHours()===s&&(c=n.getMinutes())))),i={},i[t+"Year"]=a,i[t+"Month"]=r,i[t+"Date"]=o,i[t+"Hour"]=s,i[t+"Minute"]=c,i},getTrueValue:function(t){if(t){while(isNaN(parseInt(t,10)))t=t.slice(1);return parseInt(t,10)}},getMonthEndDay:function(t,e){return 32-new Date(t,e-1,32).getDate()},onConfirm:function(){this.$emit("confirm",this.innerValue)},onChange:function(t){var e,i=this;if("time"===this.type){var n=t.getIndexes();e=n[0]+this.minHour+":"+(n[1]+this.minMinute)}else{var a=t.getValues(),r=this.getTrueValue(a[0]),o=this.getTrueValue(a[1]),s=this.getMonthEndDay(r,o),c=this.getTrueValue(a[2]);"year-month"===this.type&&(c=1),c=c>s?s:c;var u=0,l=0;"datetime"===this.type&&(u=this.getTrueValue(a[3]),l=this.getTrueValue(a[4])),e=new Date(r,o-1,c,u,l)}this.innerValue=this.correctValue(e),this.$nextTick(function(){i.$nextTick(function(){i.$emit("change",t)})})},updateColumnValue:function(t){var e=this,i=[],n=this.formatter,a=this.pad;if("time"===this.type){var r=t.split(":");i=[n("hour",r[0]),n("minute",r[1])]}else i=[n("year",""+t.getFullYear()),n("month",a(t.getMonth()+1)),n("day",a(t.getDate()))],"datetime"===this.type&&i.push(n("hour",a(t.getHours())),n("minute",a(t.getMinutes()))),"year-month"===this.type&&(i=i.slice(0,2));this.$nextTick(function(){e.$refs.picker.setValues(i)})}},mounted:function(){this.updateColumnValue(this.innerValue)}});w["a"].use(N);var B={data:function(){return{currentDate:new Date("1990-01-01"),minDate:new Date("1910-01-01")}},props:{type:{default:"date"},pickerShow:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},methods:{onChange:function(t,e,i){this.$emit("onDatetimePickerChange")},onCancel:function(){this.$emit("onDatetimePickerCancel")},onConfirm:function(t,e){this.$emit("onDatetimePickerConfirm",t)}}},Y=B,L=(i("4539"),Object(g["a"])(Y,E,H,!1,null,"37cb59be",null));L.options.__file="DatetimePicker.vue";var R=L.exports,F=i("bf93"),J=i("f356"),K=i("bbd5"),z=i("2f62"),G={name:"apply",components:{Package:s["a"],reservationInfo:l["a"],personInfo:u["a"],orderInfo:c["a"],comPicker:T,DatetimePicker:R,fixedBottom:I,Loading:F["a"]},data:function(){return{comPickerType:"",comPicker:{title:"",columns:[],pickerShow:!1},DatetimePicker:{pickerShow:!1},packageData:[],personInfoData:{married:{}},orderInfoData:{report:{},reportAddr:{}},info:{},error:{},checkoutType:["name","id_num","birthday","phone","report","married","reportAddr"],submitDisable:!0,price:0,reservationData:{},loading:!0}},created:function(){this.load()},methods:Object(o["a"])({load:function(){var t=this;Object(J["j"])({city_id:200,package_id:this.getSelectedPackageInfo.package_id,free_add_item_ids:this.getSelectedPackageInfo.free_add_item_ids,pay_add_item_ids:this.getSelectedPackageInfo.pay_add_item_ids}).then(function(e){if(0===e.code){t.reservationData={org_name:e.data.org_name,medical_time:t.getSelectedPackageInfo.medical_date},t.packageData=e.data.package_list;var i=[],n=[];if(e.data.get_report_type){for(var a in e.data.get_report_type)i.push({value:a,text:e.data.get_report_type[a]});e.data.get_report_type=i,t.orderInfoData.report=i[0]}if(e.data.office_addr){for(var r in e.data.office_addr)n.push({value:r,text:e.data.office_addr[r]});e.data.office_addr=n,t.orderInfoData.reportAddr=n[0]}t.info=e.data,t.price=e.data.total_price,t.personInfoData=t.personInfoDataFilter(e.data.user_info),t.checkoutInfo("","default"),t.loading=!1}else alert(e.msg)})}},Object(z["d"])(["SET_SELECTEDPACKAGEINFO"]),{personInfoDataFilter:function(t){for(var e in t)t[e]?t[e+"Default"]=t[e]:t[e+"Default"]=null;t.married={text:"未婚",value:1};var i=Object(K["b"])(String(t["id_num"]));return Object(K["a"])(i,"Array")&&(t.birthday=t.birthday?t.birthday:i[1],t.birthdayDefault=t.birthday?t.birthday:i[1]),t},selectMarried:function(t){this.comPickerType="married",this.$set(this.comPicker,"columns",t),this.$set(this.comPicker,"pickerShow",!0)},selectBirthday:function(){this.$set(this.DatetimePicker,"pickerShow",!0)},selectReport:function(){this.comPickerType="report",this.$set(this.comPicker,"columns",this.info.get_report_type),this.$set(this.comPicker,"pickerShow",!0)},selectReportAddr:function(){this.comPickerType="reportAddr",this.$set(this.comPicker,"columns",this.info.office_addr),this.$set(this.comPicker,"pickerShow",!0)},onDatetimePickerCancel:function(){this.pickerHideFun()},onDatetimePickerConfirm:function(t){var e=this.parseData(new Date(t));this.$set(this.personInfoData,"birthday",e),this.pickerHideFun(),this.checkoutInfo("birthday")},onPickerCancel:function(){this.pickerHideFun()},onPickerConfirm:function(t,e){switch(this.comPickerType){case"married":this.setMarried(t);break;case"report":this.setReport(t);break;case"reportAddr":this.setReportAddr(t);break;default:}this.pickerHideFun(),this.checkoutInfo(this.comPickerType)},pickerHideFun:function(){this.$set(this.comPicker,"pickerShow",!1),this.$set(this.DatetimePicker,"pickerShow",!1)},setReport:function(t){this.$set(this.orderInfoData,"report",t)},setReportAddr:function(t){this.$set(this.orderInfoData,"reportAddr",t)},setMarried:function(t){this.$set(this.personInfoData,"married",t)},parseData:function(t){var e=t.getFullYear(),i=t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1,n=t.getDate()<10?"0"+t.getDate():t.getDate();return e+"-"+i+"-"+n},checkoutInfo:function(t,e){switch(t){case"name":return void(this.checkoutEmpty(this.personInfoData,t,e)||this.$refs.personInfo.showError(t));case"id_num":return void(this.checkoutEmpty(this.personInfoData,t,e)||this.$refs.personInfo.showError(t));case"birthday":return void(this.checkoutEmpty(this.personInfoData,t,e)||this.$refs.personInfo.showError(t));case"phone":return void(this.checkoutPhone(this.orderInfoData,t,e)||this.$refs.orderInfo.showError(t));case"report":return void(this.checkoutEmptyObj(this.orderInfoData,t,e)&&this.$refs.orderInfo.showError(t));case"married":return void this.checkoutEmptyObj(this.personInfoData,t,e);case"reportAddr":return void this.checkoutEmptyObj(this.orderInfoData,t,e);default:for(var i=0;i<this.checkoutType.length;i++)this.checkoutInfo(this.checkoutType[i],e)}},checkoutInfoAll:function(){for(var t=0;t<this.checkoutType.length;t++)if(!this.error[this.checkoutType[t]])return!1;return!0},checkoutEmpty:function(t,e,i){var n=this.deepClone(this.error);return t[e]?n[e]=!0:n[e]="default"===i&&null,this.error=n,this.error[e]},checkoutEmptyObj:function(t,e,i){var n=this.deepClone(this.error);return t[e]&&"{}"!==JSON.stringify(t[e])?n[e]=!0:n[e]="default"===i&&null,this.error=n,this.error[e]},checkoutPhone:function(t,e,i){var n=this.deepClone(this.error);return Object(K["c"])(t[e])?n[e]=!0:n[e]="default"===i&&null,this.error=n,this.error[e]},hideError:function(t){},deepClone:function(t){var e=JSON.stringify(t),i=JSON.parse(e);return i},submit:function(t){var e=this;t?(this.loading=!0,Object(J["l"])({package_id:this.getSelectedPackageInfo.package_id,free_add_item_ids:this.getSelectedPackageInfo.free_add_item_ids,pay_add_item_ids:this.getSelectedPackageInfo.pay_add_item_ids,medical_date:this.getSelectedPackageInfo.medical_date,medical_time_start:"",medical_time_end:"",birthday:this.personInfoData.birthday,is_marry:this.personInfoData.married.value,mobile_phone:this.orderInfoData.phone,report_type:this.orderInfoData.report.value,office_address:this.orderInfoData.reportAddr.text,check_hepatitis_b:this.getSelectedPackageInfo.check_hepatitis_b,total_price:this.price}).then(function(t){if(t&&0===t.code)e.$router.push({path:"/"});else{var i=t&&t.msg||"提交订单失败";Object(r["a"])(i)}e.loading=!1})):this.checkoutInfo()}}),computed:Object(o["a"])({},Object(z["c"])(["getSelectedPackageInfo"])),watch:{error:function(t){this.checkoutInfoAll()?this.submitDisable=!1:this.submitDisable=!0}}},q=G,U=(i("c1a9"),Object(g["a"])(q,n,a,!1,null,"289fe2fc",null));U.options.__file="apply.vue";e["default"]=U.exports},e445:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"page"},[t._m(0),i("ul",{staticClass:"item-form"},[i("li",{ref:"name"},[i("span",{class:{gray:t.data.nameDefault||1===t.disabled}},[t._v("姓名")]),i("div",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.data.name,expression:"data.name"}],class:{red:!1===t.error.name},attrs:{type:"text",placeholder:"请输入姓名",disabled:t.data.nameDefault||1===t.disabled},domProps:{value:t.data.name},on:{focus:function(e){t.hideError("name")},blur:function(e){t.checkoutInfo("name")},input:function(e){e.target.composing||t.$set(t.data,"name",e.target.value)}}}),i("i",{staticClass:"clear"})])]),i("li",{ref:"id_num"},[i("span",{class:{gray:t.data.id_numDefault||1===t.disabled}},[t._v("证件号码")]),i("div",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.data.id_num,expression:"data.id_num"}],class:{red:!1===t.error.id_num},attrs:{type:"text",placeholder:"请输入证件号码",disabled:t.data.id_numDefault},domProps:{value:t.data.id_num},on:{focus:function(e){t.hideError("id_num")},blur:function(e){t.checkoutInfo("id_num")},input:function(e){e.target.composing||t.$set(t.data,"id_num",e.target.value)}}}),i("i",{staticClass:"clear"})])]),i("li",{ref:"birthday"},[i("span",{class:{gray:t.data.birthdayDefault||1===t.disabled}},[t._v("出生日期")]),i("div",{staticClass:"select",on:{click:t.selectBirthday}},[i("span",{class:{gray:!t.data.birthday,red:!1===t.error.birthday}},[t._v(t._s(t.data.birthday?t.data.birthday:"请选择出生日期"))]),t.data.birthdayDefault||1===t.disabled?t._e():i("i",{staticClass:"arrow"})])]),i("li",{ref:"married"},[i("span",{class:{gray:1===t.disabled}},[t._v("婚否")]),i("div",{staticClass:"select",on:{click:t.selectMarried}},[i("span",{class:{gray:!t.data.married.text,red:!1===t.error.married}},[t._v(t._s(t.data.married.text?t.data.married.text:"请选择婚否"))]),1!==t.disabled?i("i",{staticClass:"arrow"}):t._e()])])])])},a=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("h3",[i("span",[t._v("体检人信息")])])}],r=i("b21a"),o={name:"personInfo",props:{data:{default:function(){return{married:{}}}},staff:{default:1},error:{default:function(){return{}}},disabled:{default:0}},data:function(){return{marriedOption:r["a"],age:[]}},created:function(){for(var t=13;t<100;t++)this.age.push({text:t})},methods:{selectMarried:function(){this.$emit("selectMarried",this.marriedOption)},selectBirthday:function(){this.data["birthdayDefault"]||this.$emit("selectBirthday")},checkoutInfo:function(t){this.$emit("checkoutInfo",t)},hideError:function(t){this.$emit("hideError",t)},showError:function(t){var e=this;this.$refs[t]&&this.$nextTick(function(){var i,n=Math.floor(e.$refs[t].getBoundingClientRect().y);document.body&&(i=document.body),document.documentElement&&(i=document.documentElement),i.scrollTop=n})}}},s=o,c=(i("4260"),i("2877")),u=Object(c["a"])(s,n,a,!1,null,"054cc153",null);u.options.__file="personInfo.vue";e["a"]=u.exports},f253:function(t,e,i){"use strict";var n=i("fe7e"),a=i("1128");function r(t){return Array.isArray(t)?t.map(function(t){return r(t)}):"object"===typeof t?Object(a["a"])({},t):t}var o=i("a142"),s=200,c=Object(n["a"])({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:[t.b(),t.className],style:t.columnStyle,on:{touchstart:t.onTouchStart,touchmove:function(e){return e.preventDefault(),t.onTouchMove(e)},touchend:t.onTouchEnd,touchcancel:t.onTouchEnd}},[i("ul",{style:t.wrapperStyle},t._l(t.options,function(e,n){return i("li",{staticClass:"van-ellipsis",class:t.b("item",{disabled:t.isDisabled(e),selected:n===t.currentIndex}),style:t.optionStyle,domProps:{innerHTML:t._s(t.getOptionText(e))},on:{click:function(e){t.setIndex(n,!0)}}})}))])},name:"picker-column",props:{valueKey:String,className:String,itemHeight:Number,visibleItemCount:Number,initialOptions:{type:Array,default:function(){return[]}},defaultIndex:{type:Number,default:0}},data:function(){return{startY:0,offset:0,duration:0,startOffset:0,options:r(this.initialOptions),currentIndex:this.defaultIndex}},created:function(){this.$parent.children&&this.$parent.children.push(this),this.setIndex(this.currentIndex)},destroyed:function(){var t=this.$parent.children;t&&t.splice(t.indexOf(this),1)},watch:{defaultIndex:function(){this.setIndex(this.defaultIndex)}},computed:{count:function(){return this.options.length},baseOffset:function(){return this.itemHeight*(this.visibleItemCount-1)/2},columnStyle:function(){return{height:this.itemHeight*this.visibleItemCount+"px"}},wrapperStyle:function(){return{transition:this.duration+"ms",transform:"translate3d(0, "+(this.offset+this.baseOffset)+"px, 0)",lineHeight:this.itemHeight+"px"}},optionStyle:function(){return{height:this.itemHeight+"px"}}},methods:{onTouchStart:function(t){this.startY=t.touches[0].clientY,this.startOffset=this.offset,this.duration=0},onTouchMove:function(t){var e=t.touches[0].clientY-this.startY;this.offset=Object(o["f"])(this.startOffset+e,-this.count*this.itemHeight,this.itemHeight)},onTouchEnd:function(){if(this.offset!==this.startOffset){this.duration=s;var t=Object(o["f"])(Math.round(-this.offset/this.itemHeight),0,this.count-1);this.setIndex(t,!0)}},adjustIndex:function(t){t=Object(o["f"])(t,0,this.count);for(var e=t;e<this.count;e++)if(!this.isDisabled(this.options[e]))return e;for(var i=t-1;i>=0;i--)if(!this.isDisabled(this.options[i]))return i},isDisabled:function(t){return Object(o["d"])(t)&&t.disabled},getOptionText:function(t){return Object(o["d"])(t)&&this.valueKey in t?t[this.valueKey]:t},setIndex:function(t,e){t=this.adjustIndex(t)||0,this.offset=-t*this.itemHeight,t!==this.currentIndex&&(this.currentIndex=t,e&&this.$emit("change",t))},setValue:function(t){for(var e=this.options,i=0;i<e.length;i++)if(this.getOptionText(e[i])===t)return this.setIndex(i)},getValue:function(){return this.options[this.currentIndex]}}});e["a"]=Object(n["a"])({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:t.b()},[t.showToolbar?i("div",{staticClass:"van-hairline--top-bottom",class:t.b("toolbar")},[t._t("default",[i("div",{class:t.b("cancel"),on:{click:function(e){t.emit("cancel")}}},[t._v("\n        "+t._s(t.cancelButtonText||t.$t("cancel"))+"\n      ")]),t.title?i("div",{staticClass:"van-ellipsis",class:t.b("title"),domProps:{textContent:t._s(t.title)}}):t._e(),i("div",{class:t.b("confirm"),on:{click:function(e){t.emit("confirm")}}},[t._v("\n        "+t._s(t.confirmButtonText||t.$t("confirm"))+"\n      ")])])],2):t._e(),t.loading?i("div",{class:t.b("loading")},[i("loading")],1):t._e(),i("div",{class:t.b("columns"),style:t.columnsStyle,on:{touchmove:function(t){t.preventDefault()}}},[t._l(t.simple?[t.columns]:t.columns,function(e,n){return i("picker-column",{key:n,attrs:{"value-key":t.valueKey,"initial-options":t.simple?e:e.values,"class-name":e.className,"default-index":e.defaultIndex,"item-height":t.itemHeight,"visible-item-count":t.visibleItemCount},on:{change:function(e){t.onChange(n)}}})}),i("div",{staticClass:"van-hairline--top-bottom",class:t.b("frame"),style:t.frameStyle})],2)])},name:"picker",components:{PickerColumn:c},props:{title:String,loading:Boolean,showToolbar:Boolean,confirmButtonText:String,cancelButtonText:String,visibleItemCount:{type:Number,default:5},valueKey:{type:String,default:"text"},itemHeight:{type:Number,default:44},columns:{type:Array,default:function(){return[]}}},data:function(){return{children:[]}},computed:{frameStyle:function(){return{height:this.itemHeight+"px"}},columnsStyle:function(){return{height:this.itemHeight*this.visibleItemCount+"px"}},simple:function(){return this.columns.length&&!this.columns[0].values}},watch:{columns:function(){this.setColumns()}},methods:{setColumns:function(){var t=this,e=this.simple?[{values:this.columns}]:this.columns;e.forEach(function(e,i){t.setColumnValues(i,r(e.values))})},emit:function(t){this.simple?this.$emit(t,this.getColumnValue(0),this.getColumnIndex(0)):this.$emit(t,this.getValues(),this.getIndexes())},onChange:function(t){this.simple?this.$emit("change",this,this.getColumnValue(0),this.getColumnIndex(0)):this.$emit("change",this,this.getValues(),t)},getColumn:function(t){return this.children[t]},getColumnValue:function(t){var e=this.getColumn(t);return e&&e.getValue()},setColumnValue:function(t,e){var i=this.getColumn(t);i&&i.setValue(e)},getColumnIndex:function(t){return(this.getColumn(t)||{}).currentIndex},setColumnIndex:function(t,e){var i=this.getColumn(t);i&&i.setIndex(e)},getColumnValues:function(t){return(this.children[t]||{}).options},setColumnValues:function(t,e){var i=this.children[t];i&&JSON.stringify(i.options)!==JSON.stringify(e)&&(i.options=e,i.setIndex(0))},getValues:function(){return this.children.map(function(t){return t.getValue()})},setValues:function(t){var e=this;t.forEach(function(t,i){e.setColumnValue(i,t)})},getIndexes:function(){return this.children.map(function(t){return t.currentIndex})},setIndexes:function(t){var e=this;t.forEach(function(t,i){e.setColumnIndex(i,t)})}}})},fd72:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"page"},[t._m(0),i("ul",{staticClass:"item-form"},[i("li",{ref:"phone"},[i("span",{class:{grey:1===t.disabled}},[t._v("联系方式")]),i("div",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.data.phone,expression:"data.phone"}],class:{red:!1===t.error.phone},attrs:{type:"tel",maxlength:"11",placeholder:"请输入手机号码",disabled:1===t.disabled},domProps:{value:t.data.phone},on:{focus:function(e){t.hideError("phone")},blur:function(e){t.checkoutInfo("phone")},input:function(e){e.target.composing||t.$set(t.data,"phone",e.target.value)}}}),i("i",{staticClass:"clear"})])]),i("li",{ref:"report"},[i("span",{class:{grey:1===t.disabled}},[t._v("领取方式")]),i("div",{staticClass:"select",on:{click:t.selectReport}},[i("span",{class:{gray:!t.data.report.text,red:!1===t.error.report}},[t._v(t._s(t.data.report.text?t.data.report.text:"请选择报告领取方式"))]),1!==t.disabled?i("i",{staticClass:"arrow"}):t._e()])]),t.data.report&&2==t.data.report.value?i("li",{ref:"reportAddr"},[i("span",{class:{grey:1===t.disabled}},[t._v("邮寄地址")]),i("div",{staticClass:"select",on:{click:t.selectReportAddr}},[i("span",{class:{gray:!t.data.reportAddr.text,red:!1===t.error.reportAddr}},[t._v(t._s(t.data.reportAddr.text?t.data.reportAddr.text:"请选择邮寄地址"))]),1!==t.disabled?i("i",{staticClass:"arrow"}):t._e()])]):t._e()])])},a=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("h3",[i("span",[t._v("订单信息")])])}],r={name:"orderInfo",data:function(){return{}},props:{data:{default:function(){return{report:{}}}},error:{default:function(){return{}}},disabled:{default:0}},methods:{selectReport:function(){this.$emit("selectReport")},selectReportAddr:function(){this.$emit("selectReportAddr")},checkoutInfo:function(t){this.$emit("checkoutInfo",t)},showError:function(t){var e=this;this.$refs[t]&&this.$nextTick(function(){var i,n=Math.floor(e.$refs[t].getBoundingClientRect().y);document.body&&(i=document.body),document.documentElement&&(i=document.documentElement),i.scrollTop=n})},hideError:function(t){}}},o=r,s=(i("dadd"),i("2877")),c=Object(s["a"])(o,n,a,!1,null,"6e698472",null);c.options.__file="orderInfo.vue";e["a"]=c.exports}}]);